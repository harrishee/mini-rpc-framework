# Mini RPC 框架

Mini RPC 框架是一个基于 Java 的轻量级 RPC 框架，旨在帮助实现远程过程调用和分布式通信。
该框架实现了 Socket 和 Netty 两种网络通信方式，Json 和 Kryo 两种序列化器，使用 Nacos 作为服务注册中心，实现了简易的负载均衡机制

# 快速入门

在开始之前，请确保已经安装并正确配置了 Nacos，用于服务的注册和发现。

## 1. 启动 Nacos 服务器

英文版：[点击这里](README.md)

Nacos 服务器是 Mini RPC 框架中用于服务注册和发现的关键组件。要启动它，请按照以下步骤操作：

1. 在终端中导航至 Nacos 安装目录
2. 使用以下命令以独立模式启动 Nacos 服务器：
    ```shell
    sh startup.sh -m standalone
    ```

这个命令会启动 Nacos 服务器，并准备好管理您的服务

## 2. 服务器端实现

现在，让我们在服务器端实现一个服务：

1. `实现一个服务接口`：定义您的服务接口，其中包括您想要远程访问的方法。

2. `注册服务`：使用 Mini RPC 框架在服务器上注册您的服务。此注册允许客户端发现和访问您的服务。

3. `启动服务器`：启动您的服务器，以使您的服务能够远程调用。

## 3. 启动客户端

一旦您设置好服务器，就可以启动客户端并开始进行远程调用：

1. `初始化客户端`：配置和初始化 Mini RPC 客户端，指定所需的序列化方法和其他设置
2. `创建代理`：使用框架提供的代理类为您的服务创建代理对象。这些代理对象使您能够调用远程方法，就像它们是本地的一样
3. `调用服务`：通过代理对象访问您的服务的方法。框架会处理远程通信的细节，使您可以专注于应用程序逻辑的开发

# 1. 模块概览

- `rpc-api`: 通用服务接口
- `rpc-common`: 请求和响应实体类、枚举、异常、工具类等
- `rpc-core`: 客户端、服务端、服务注册中心、序列化器、负载均衡器等
- `test-client`: 客户端功能，注册服务并发起请求
- `test-server`: 服务端功能，注册服务并启动服务器，接收并处理客户端请求

# 2. 项目发展

## 1. `feat: basic rpc framework`

实现了基础的RPC框架，采用了 JDK 序列化和 Socket 通信方式。 目前实现了基本的远程方法调用功能

缺点：在注册完服务后，服务器就自行启动了，导致每个服务器只能注册一个服务

## 2. `feat: multi-service support`

引入了服务注册表机制，服务现在可以根据其接口名进行注册，并且可以根据接口名来获取对应的服务实体

## 3. `feat: netty communication`

引入了 Netty 作为通信框架，取代了之前的基于 Socket 的通信方式。将传统的 BIO 方式传输换成效率更高的 NIO 方式

## 4. `feat: kryo serializer`

引入了 Kryo 序列化器，取代了之前的 Json 序列化器

## 5. `feat: nacos services`

引入了 Nacos 服务注册中心，取代了之前的本地注册表方式。将服务注册表从本地转移到了远程服务器上，使得服务的注册和发现更加灵活

## 6. `feat: load balance`

引入了负载均衡机制，实现了简易的随机和轮询负载均衡

## 7. `feat: auto service registration`

引入了自动服务注册机制，使得服务的注册更加方便，启动服务器时无需手动注册服务
